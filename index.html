<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>膜厚度计算器（收缩后区间）</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* 保持原有样式并适配两个输入框 */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI','Microsoft YaHei',sans-serif;}
body{background:linear-gradient(135deg,#1a2980,#26d0ce);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;color:#333;}
.container{background:rgba(255,255,255,0.95);border-radius:20px;box-shadow:0 15px 40px rgba(0,0,0,0.3);width:100%;max-width:1000px;overflow:hidden;}
header{background:linear-gradient(120deg,#2c3e50,#1a2980);color:white;padding:30px 40px;text-align:center;}
header h1{font-size:2.2rem;margin-bottom:10px;display:flex;align-items:center;justify-content:center;gap:15px;}
header p{font-size:1.1rem;opacity:0.9;max-width:750px;margin:0 auto;line-height:1.6;}
.info-banner{background:#e8f4fc;padding:15px;text-align:center;border-bottom:2px solid #3498db;font-size:1.1rem;color:#2c3e50;}
.info-banner i{color:#e74c3c;margin-right:8px;}
.calculator{padding:30px 40px;}
.input-group{margin-bottom:30px;}
.input-group label{font-size:1.2rem;font-weight:600;margin-bottom:15px;color:#2c3e50;display:flex;align-items:center;gap:10px;}
.input-container{display:flex;gap:15px;flex-wrap:wrap;}
input{flex:1;padding:16px 20px;font-size:1.2rem;border:3px solid #3498db;border-radius:12px;outline:none;transition:all 0.3s;min-width:150px;}
input:focus{border-color:#e74c3c;box-shadow:0 0 0 4px rgba(231,76,60,0.2);}
button{padding:16px 30px;font-size:1.1rem;font-weight:700;border:none;border-radius:12px;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;justify-content:center;gap:10px;}
.calculate-btn{background:linear-gradient(120deg,#2ecc71,#27ae60);color:white;}
.reset-btn{background:linear-gradient(120deg,#e74c3c,#c0392b);color:white;}
button:hover{transform:translateY(-3px);box-shadow:0 7px 15px rgba(0,0,0,0.2);}
.error{color:#e74c3c;font-weight:600;margin-top:15px;font-size:1rem;display:none;}
.result-section{background:#f8f9fa;border-radius:15px;padding:30px;margin-top:30px;border:2px solid #e9ecef;display:none;}
.result-section h2{color:#2c3e50;margin-bottom:25px;font-size:1.6rem;display:flex;align-items:center;gap:10px;}
.solutions{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;}
.solution-card{background:white;border-radius:15px;padding:20px;box-shadow:0 7px 20px rgba(0,0,0,0.08);border-top:5px solid #3498db;}
.solution-card h3{font-size:1.2rem;color:#2c3e50;margin-bottom:10px;}
.solution-card p{font-size:1rem;color:#2c3e50;line-height:1.5;}
.solution-card .highlight{color:#e74c3c;font-weight:700;}
.examples{margin-top:40px;background:#f8f9fa;border-radius:15px;padding:30px;border:2px solid #e9ecef;}
.examples h2{color:#2c3e50;margin-bottom:25px;font-size:1.6rem;display:flex;align-items:center;gap:10px;}
.example-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;}
.example-card{background:white;border-radius:12px;padding:20px;box-shadow:0 5px 15px rgba(0,0,0,0.05);}
.example-card h3{color:#e74c3c;font-size:1.1rem;margin-bottom:10px;}
.example-card p{font-size:1rem;color:#2c3e50;margin-bottom:5px;}
.example-card .result{font-weight:700;color:#27ae60;background:#f0f7ff;padding:8px;border-radius:8px;margin-top:5px;font-size:0.95rem;}
footer{text-align:center;padding:20px;background:rgba(44,62,80,0.9);color:rgba(255,255,255,0.8);font-size:1rem;}
@media(max-width:768px){.input-container{flex-direction:column;}button{width:100%;}}
</style>
</head>
<body>
<div class="container">
<header>
<h1><i class="fas fa-calculator"></i> 燃料电池密封膜厚度计算器</h1>
<p>输入收缩后的厚度区间，自动计算最优的 100、120、130 厚度膜组合（每张膜叠加后收缩 8 个单位）</p>
</header>
<div class="info-banner"><i class="fas fa-info-circle"></i> 每张膜收缩 8 个单位，系统将显示最多 5 个总张数最少的最佳方案</div>
<div class="calculator">
<div class="input-group">
<label><i class="fas fa-bullseye"></i> 收缩后厚度区间：</label>
<div class="input-container">
<input type="number" id="min-thickness" placeholder="最小值 (如330)">
<input type="number" id="max-thickness" placeholder="最大值 (如340)">
<button class="calculate-btn" id="calculate-btn"><i class="fas fa-calculator"></i> 计算膜组合</button>
<button class="reset-btn" id="reset-btn"><i class="fas fa-redo"></i> 重置</button>
</div>
<div class="error" id="error-message">请输入有效的区间（10的倍数，最小值小于最大值）</div>
</div>
<div class="result-section" id="result-section">
<h2><i class="fas fa-chart-bar"></i> 最佳方案</h2>
<div class="solutions" id="solutions"></div>
</div>
<div class="examples">
<h2><i class="fas fa-lightbulb"></i> 计算示例</h2>
<div class="example-grid">
<div class="example-card">
<h3>收缩后 330–340</h3>
<p>使用：2×130 + 1×100</p>
<p>收缩前：360</p>
<p>收缩后：336</p>
<div class="result">在区间内</div>
</div>
<div class="example-card">
<h3>收缩后 270–280</h3>
<p>使用：3×100</p>
<p>收缩前：300</p>
<p>收缩后：276</p>
<div class="result">在区间内</div>
</div>
<div class="example-card">
<h3>收缩后 220–230</h3>
<p>使用：1×120 + 1×130</p>
<p>收缩前：250</p>
<p>收缩后：234</p>
<div class="result">在区间内</div>
</div>
</div>
</div>
</div>
<footer>© 2025 膜厚度计算器 | 设计用于膜厚度组合计算（含收缩计算）</footer>
</div>
<script>
const minInput=document.getElementById('min-thickness');
const maxInput=document.getElementById('max-thickness');
const calcBtn=document.getElementById('calculate-btn');
const resetBtn=document.getElementById('reset-btn');
const errorMsg=document.getElementById('error-message');
const resultSection=document.getElementById('result-section');
const solutionsDiv=document.getElementById('solutions');
function showError(msg){errorMsg.textContent=msg;errorMsg.style.display='block';resultSection.style.display='none';}
function hideError(){errorMsg.style.display='none';}
function calculate(){
const minVal=parseInt(minInput.value);
const maxVal=parseInt(maxInput.value);
if(isNaN(minVal)||isNaN(maxVal)||minVal<=0||maxVal<=0||minVal>=maxVal||minVal%10!==0||maxVal%10!==0){
showError('请输入有效的区间（10的倍数，最小值小于最大值）');return;
}
hideError();
let results=[];
for(let a=0;a<=10;a++){
 for(let b=0;b<=10;b++){
  for(let c=0;c<=10;c++){
    let totalSheets=a+b+c;
    if(totalSheets===0) continue;
    let original=a*100+b*120+c*130;
    let shrink=original-totalSheets*8;
    if(shrink>=minVal && shrink<=maxVal){
      results.push({a,b,c,totalSheets,original,shrink});
    }
  }
 }
}
results.sort((x,y)=>x.totalSheets-y.totalSheets || x.original-y.original);
results=results.slice(0,5);
solutionsDiv.innerHTML='';
if(results.length===0){solutionsDiv.innerHTML='<p>未找到符合条件的组合</p>';}
else{
 results.forEach(r=>{
   const card=document.createElement('div');
   card.className='solution-card';
   card.innerHTML=`<h3>组合: 100×${r.a}, 120×${r.b}, 130×${r.c}</h3>
   <p>总张数: <span class="highlight">${r.totalSheets}</span></p>
   <p>收缩前厚度: ${r.original}</p>
   <p>收缩后厚度: <span class="highlight">${r.shrink}</span></p>
   <p>计算: ${r.original} - ${r.totalSheets}×8 = ${r.shrink}</p>`;
   solutionsDiv.appendChild(card);
 });
}
resultSection.style.display='block';
resultSection.scrollIntoView({behavior:'smooth'});
}
function reset(){minInput.value='';maxInput.value='';hideError();resultSection.style.display='none';}
calcBtn.addEventListener('click',calculate);
resetBtn.addEventListener('click',reset);
[minInput,maxInput].forEach(inp=>{inp.addEventListener('keyup',e=>{if(e.key==='Enter') calculate();});});
</script>
</body>
</html>
